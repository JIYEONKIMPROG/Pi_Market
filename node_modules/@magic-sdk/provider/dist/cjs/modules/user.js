"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var types_1 = require("@magic-sdk/types");
var base_module_1 = require("./base-module");
var json_rpc_1 = require("../core/json-rpc");
var web_crypto_1 = require("../util/web-crypto");
var UserModule = /** @class */ (function (_super) {
    tslib_1.__extends(UserModule, _super);
    function UserModule() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /** */
    UserModule.prototype.getIdToken = function (configuration) {
        var requestPayload = json_rpc_1.createJsonRpcRequestPayload(this.sdk.testMode ? types_1.MagicPayloadMethod.GetIdTokenTestMode : types_1.MagicPayloadMethod.GetIdToken, [configuration]);
        return this.request(requestPayload);
    };
    /** */
    UserModule.prototype.generateIdToken = function (configuration) {
        var requestPayload = json_rpc_1.createJsonRpcRequestPayload(this.sdk.testMode ? types_1.MagicPayloadMethod.GenerateIdTokenTestMode : types_1.MagicPayloadMethod.GenerateIdToken, [configuration]);
        return this.request(requestPayload);
    };
    /** */
    UserModule.prototype.getMetadata = function () {
        var requestPayload = json_rpc_1.createJsonRpcRequestPayload(this.sdk.testMode ? types_1.MagicPayloadMethod.GetMetadataTestMode : types_1.MagicPayloadMethod.GetMetadata);
        return this.request(requestPayload);
    };
    /** */
    UserModule.prototype.updateEmail = function (configuration) {
        var email = configuration.email, _a = configuration.showUI, showUI = _a === void 0 ? true : _a;
        var requestPayload = json_rpc_1.createJsonRpcRequestPayload(this.sdk.testMode ? types_1.MagicPayloadMethod.UpdateEmailTestMode : types_1.MagicPayloadMethod.UpdateEmail, [{ email: email, showUI: showUI }]);
        return this.request(requestPayload);
    };
    /** */
    UserModule.prototype.isLoggedIn = function () {
        var requestPayload = json_rpc_1.createJsonRpcRequestPayload(this.sdk.testMode ? types_1.MagicPayloadMethod.IsLoggedInTestMode : types_1.MagicPayloadMethod.IsLoggedIn);
        return this.request(requestPayload);
    };
    /** */
    UserModule.prototype.logout = function () {
        web_crypto_1.clearKeys();
        var requestPayload = json_rpc_1.createJsonRpcRequestPayload(this.sdk.testMode ? types_1.MagicPayloadMethod.LogoutTestMode : types_1.MagicPayloadMethod.Logout);
        return this.request(requestPayload);
    };
    return UserModule;
}(base_module_1.BaseModule));
exports.UserModule = UserModule;
//# sourceMappingURL=user.js.map